!function(t,e,n,a){$body=t("body"),t.cbFlyNav=function(n,a){this.$el=t(a),this._init(n)},t.cbFlyNav.defaults={trigger:".btn-flyout-trigger",cbNavWrapper:"#left-flyout-nav",cbContentWrapper:".layout-right-content",minWidth:768},t.cbFlyNav.prototype={_init:function(n){this.options=t.extend({},t.cbFlyNav.defaults,n),this._config(),this._initEvents()},_config:function(){this.open=!1,this.copied=!1,this.subNavOpen=!1,this.wasOpened=!1,this.$cbWrap=t('<div class="cbFlyNav-wrap"></div>'),this.$trigger=t(this.options.trigger),this.$regMenus=this.$el.children("ul.nav.nav-pill"),this.$newMenus=t(this.$el.clone()),this.$contentMask=t('<a class="nav-flyout-contentmask" href="#"></a>'),this.$navMask=t('<a class="nav-flyout-navmask" href="#"></a>'),this.$openSubnav=""},_initEvents:function(){var i=this;i.$trigger.on("click.cbFlyNav",function(n){n.stopPropagation(),i.open?i._closeNav():(i.copied||i._copyNav(),i._openNav()),i.wasOpened=!0}),t(e).on("resize",function(){var n=t(e).width();i.open&&n>i.options.minWidth&&i._closeNav()}),i.$contentMask.on("click.cbFlyNav",function(n){n.preventDefault(),i._closeNav()}),i.$navMask.on("click.cbFlyNav",function(n){n.preventDefault(),i._closeSubNav()}),i.$newMenus.on("click.cbFlyNav",function(n){n.stopPropagation();t(this)}),i.$newMenus.children().find("li").on("click.cbFlyNav",function(n){n.stopPropagation();var a=t(this).find("ul.subnav");0<a.length&&(n.preventDefault(),a.css("height",e.innerHeight),i._openSubNav(a))})},_copyNav:function(){var n=this;t('<div class="cbFlyNav-wrap"></div>');n.$newMenus.children("ul.nav.nav-pill").each(function(){$this=t(this),$this.removeClass("nav-pill").addClass("nav-flyout"),$this.find(".caret").replaceWith('<i class="icon-cbmore"></i>')}),t(n.options.cbNavWrapper).prepend(n.$cbWrap.prepend(n.$newMenus)),n.copied=!0},openNav:function(){this.open||this._openNav()},_openNav:function(){var n=this;t(n.options.cbNavWrapper).addClass("isCbFlyNavActive"),t(n.options.cbContentWrapper).addClass("isCbFlyNavActive").append(n.$contentMask),n.open=!0},closeNav:function(){this.close||this._closeNav()},_closeNav:function(){var n=this;t(n.options.cbNavWrapper).removeClass("isCbFlyNavActive"),t(n.options.cbContentWrapper).removeClass("isCbFlyNavActive"),n.subNavOpen&&n._closeSubNav(),n.$contentMask.detach(),n.open=!1},_openSubNav:function(n){var a=this,i=n.parent("li");n.addClass("is-subnav-visible"),i.addClass("is-active"),a.$newMenus.addClass("is-inactive"),a.$cbWrap.append(a.$navMask),n.on("click.cbFlyNav",function(n){n.stopPropagation()}),a.$openSubnav=n,a.subNavOpen=!0},_closeSubNav:function(){var n=this,a=n.$openSubnav.parent("li");n.$openSubnav.removeClass("is-subnav-visible"),a.removeClass("is-active"),n.$newMenus.removeClass("is-inactive"),n.$navMask.detach(),n.$openSubnav.off("click.cbFlyNav"),n.$openSubnav="",n.subNavOpen=!1}},t.fn.cbFlyout=function(a){return this.each(function(){var n=t.data(this,"cbFlyout");n?n._init():n=t.data(this,"cbFlyout",new t.cbFlyNav(a,this))}),this}}(jQuery,window,document);